<!DOCTYPE html>
<html>
  <body>
    <canvas id="cv" width="400" height="300" style="border:1px solid #999"></canvas>
    <script>
      const cv = document.getElementById("cv");
      const ctx = cv.getContext("2d");

      let x = 20;
      function loop(){
        ctx.clearRect(0,0,cv.width,cv.height);
        ctx.beginPath();
        ctx.arc(x,150,20,0,Math.PI*2);
        ctx.fill();
        x = (x+2)%cv.width;
        requestAnimationFrame(loop); // rAFで毎フレーム更新
      }
      loop();
    </script>
  </body>
</html>
